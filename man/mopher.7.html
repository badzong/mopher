<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
 "http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd"
 [<!ENTITY mathml "http://www.w3.org/1998/Math/MathML">]>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta name="generator" content="groff -Txhtml, see www.gnu.org"/>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII"/>
<meta name="Content-Style" content="text/css"/>
<style type="text/css">
       .center { text-align: center }
       .right  { text-align: right }
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<!-- Creator     : groff version 1.21 -->
<!-- CreationDate: Tue Oct 14 21:26:32 2014 -->
<title></title>
</head>
<body>

<hr/>


<p>MOPHER(7) BSD Miscellaneous Information Manual
MOPHER(7)</p>

<p style="margin-top: 1em"><b>NAME</b></p>

<p style="margin-left:6%;"><b>mopher</b> &mdash; versatile
mail filter</p>

<p style="margin-top: 1em"><b>DESCRIPTION</b></p>

<p style="margin-left:6%;">The mail gopher (mopher) is an
extension to all mail transfer agents (MTAs) that implement
the Sendmail Milter API. It reads a list of rules and acts
on each incoming mail delivery attempt based on various
criteria and existing states. Since the general idea behind
mopher is to replace the chain of milters that is often
consulted by the MTA, mopher&rsquo;s design is modular and
its language can be extended through a variety of loadable
mopher modules.</p>

<p style="margin-left:6%; margin-top: 1em">The following
list only describes mopher&rsquo;s core features, while
mopher&rsquo;s remaining functionality is part of its
available modules:</p>

<p style="margin-top: 1em"><b>Greylisting</b></p>

<p style="margin-left:17%;">Mopher supports indiscriminate
and selective greylisting. It lists either individual
addresses or whole domains (based on reverse lookups and
rules provided by Mozilla&rsquo;s Public Suffix List) and
keeps track of all retries by that particular origin.
Listing domains avoids cases, where several load balancing
MTAs are trying to deliver the same message, while counting
retries and acting upon the result can speed up the
inevitable.</p>

<p style="margin-top: 1em"><b>Whitelisting</b></p>

<p style="margin-left:17%;">Mopher supports whitelisting
origins (address or domain) based on their amount of
successfully delivered messages. It also tracks penpals,
which are triplets containing the origin, the sender- and
the recipient-address. Whitelisting based on penpals is the
prefered strategy when dealing with Email providers that
host large numbers of legitimate users but also significant
amounts of spammers.</p>

<p style="margin-top: 1em"><b>Tarpitting</b></p>

<p style="margin-left:17%;">Mopher supports delaying
incoming mail delivery attempts. Tarpitting, like any other
action, can be applied selectively.</p>

<p style="margin-top: 1em"><b>Generic Storage</b></p>

<p style="margin-left:17%;">All tables kept by mopher are
accessed through a generic interface. The selection of
back-ends is therefore only limited by the amount of
available database modules. Currently, several back-end
modules are provided.</p>

<p style="margin-top: 1em"><b>Custom Logging</b></p>

<p style="margin-left:17%;">Mopher uses a well structured
default log format and allows for additional custom logging
at any stage, which also includes the access to all symbols
available at that particular stage.</p>

<p style="margin-top: 1em"><b>Custom Headers</b></p>

<p style="margin-left:17%;">The injection of custom headers
is possible. Like with custom logging, all symbols available
at a particular stage are also available when defining a
custom header and its content.</p>

<p style="margin-top: 1em"><b>Control Socket</b></p>

<p style="margin-left:17%;">Communication with a running
mopher daemon is possible through its control socket.
Available actions are currently limited to the printing of
tables and modifying of greylist items.</p>

<p style="margin-left:6%; margin-top: 1em">Successfully
configuring and running mopher requires a basic
understanding of SMTP and its various stages. Users are also
encouraged to consult mopherd.acl(5), in order to get an
overview of the basic language and its expressions.</p>

<p style="margin-top: 1em"><b>FILES</b> <br/>
@sbindir@/mopherd</p>

<p style="margin-left:17%;">The mopher daemon.</p>

<p style="margin-top: 1em">@sbindir@/mopherctl</p>

<p style="margin-left:17%;">The mopher daemon control
utility.</p>


<p style="margin-top: 1em">@sysconfdir@/mopher/mopherd.conf</p>

<p style="margin-left:17%;">Configuration file for the
mopher daemon.</p>


<p style="margin-top: 1em">@sysconfdir@/mopher/mopherd.acl</p>

<p style="margin-left:17%;">List of rules enforced by the
mopher daemon.</p>

<p style="margin-top: 1em">@libdir@/mopher</p>

<p style="margin-left:17%;">Directory containing loadable
mopher modules.</p>

<p style="margin-top: 1em"><b>SEE ALSO</b></p>

<p style="margin-left:6%;">mopherd(8), mopherctl(8),
mopherd.conf(5), mopherd.acl(5)</p>

<p style="margin-top: 1em"><b>AUTHORS</b></p>

<p style="margin-left:6%;">Manuel Badzong,
<i>manuel@badzong.com</i> <br/>
Petar Bogdanovic, <i>petar@smokva.net</i></p>

<p style="margin-top: 1em"><b>BUGS</b></p>

<p style="margin-left:6%;">Any issues related to building,
running or configuring mopher can be reported at the
following location:</p>


<p style="margin-left:14%;"><b>https://github.com/badzong/mopher/issues</b></p>

<p style="margin-left:6%; margin-top: 1em">There is also a
general discussion mailing-list:</p>


<p style="margin-left:14%;"><b>https://groups.google.com/d/forum/mopher</b></p>

<p style="margin-left:6%; margin-top: 1em">BSD
July&nbsp;11, 2014 BSD</p>
<hr/>
</body>
</html>
