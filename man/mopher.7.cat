MOPHER(7)            BSD Miscellaneous Information Manual            MOPHER(7)

NNAAMMEE
     mmoopphheerr -- versatile mail filter

DDEESSCCRRIIPPTTIIOONN
     The mail gopher (mopher) is an extension to all mail transfer agents
     (MTAs) that implement the Sendmail Milter API.  It reads a list of rules
     and acts on each incoming mail delivery attempt based on various criteria
     and existing states.  Since the general idea behind mopher is to replace
     the chain of milters that is often consulted by the MTA, mopher's design
     is modular and its language can be extended through a variety of loadable
     mopher modules.

     The following list only describes mopher's core features, while mopher's
     remaining functionality is part of its available modules:

     GGrreeyylliissttiinngg
             Mopher supports indiscriminate and selective greylisting.  It
             lists either individual addresses or whole domains (based on
             reverse lookups and rules provided by Mozilla's Public Suffix
             List) and keeps track of all retries by that particular origin.
             Listing domains avoids cases, where several load balancing MTAs
             are trying to deliver the same message, while counting retries
             and acting upon the result can speed up the inevitable.

     WWhhiitteelliissttiinngg
             Mopher supports whitelisting origins (address or domain) based on
             their amount of successfully delivered messages.  It also tracks
             penpals, which are triplets containing the origin, the sender-
             and the recipient-address.  Whitelisting based on penpals is the
             prefered strategy when dealing with Email providers that host
             large numbers of legitimate users but also significant amounts of
             spammers.

     TTaarrppiittttiinngg
             Mopher supports delaying incoming mail delivery attempts.
             Tarpitting, like any other action, can be applied selectively.

     GGeenneerriicc SSttoorraaggee
             All tables kept by mopher are accessed through a generic inter-
             face.  The selection of back-ends is therefore only limited by
             the amount of available database modules.  Currently, several
             back-end modules are provided.

     CCuussttoomm LLooggggiinngg
             Mopher uses a well structured default log format and allows for
             additional custom logging at any stage, which also includes the
             access to all symbols available at that particular stage.

     CCuussttoomm HHeeaaddeerrss
             The injection of custom headers is possible.  Like with custom
             logging, all symbols available at a particular stage are also
             available when defining a custom header and its content.

     CCoonnttrrooll SSoocckkeett
             Communication with a running mopher daemon is possible through
             its control socket.  Available actions are currently limited to
             the printing of tables and modifying of greylist items.

     Successfully configuring and running mopher requires a basic understand-
     ing of SMTP and its various stages.  Users are also encouraged to consult
     mopherd.acl(5), in order to get an overview of the basic language and its
     expressions.

FFIILLEESS
     @sbindir@/mopherd
             The mopher daemon.

     @sbindir@/mopherctl
             The mopher daemon control utility.

     @sysconfdir@/mopher/mopherd.conf
             Configuration file for the mopher daemon.

     @sysconfdir@/mopher/mopherd.acl
             List of rules enforced by the mopher daemon.

     @libdir@/mopher
             Directory containing loadable mopher modules.

SSEEEE AALLSSOO
     mopherd(8), mopherctl(8), mopherd.conf(5), mopherd.acl(5)

AAUUTTHHOORRSS
     Manuel Badzong, _m_a_n_u_e_l_@_b_a_d_z_o_n_g_._c_o_m
     Petar Bogdanovic, _p_e_t_a_r_@_s_m_o_k_v_a_._n_e_t

BBUUGGSS
     Any issues related to building, running or configuring mopher can be
     reported at the following location:
           hhttttppss::////ggiitthhuubb..ccoomm//bbaaddzzoonngg//mmoopphheerr//iissssuueess

     There is also a general discussion mailing-list:
           hhttttppss::////ggrroouuppss..ggooooggllee..ccoomm//dd//ffoorruumm//mmoopphheerr

BSD                              July 11, 2014                             BSD
