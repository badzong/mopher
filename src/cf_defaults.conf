# This is the default mopherd.conf built into mopherd.


# General settings
workdir_path			= "/"
mopherd_user			= "nobody"
mopherd_group			= "nogroup"

# Default log level for ACL log statemants without level
acl_log_level			= 3

# Greylist defaults
greylist_deadline		= 86400
greylist_visa			= 2592000

# Sockets in general
connect_timeout			= 10
connect_retries			= 1

# Control socket used by mopherctl
control_socket			= "inet:44554@127.0.0.1"
control_socket_permissions	= 660

# Milter socket
milter_socket			= "inet:44555@127.0.0.1"
milter_socket_timeout		= -1
milter_socket_permissions	= 660

# Client retry interval for MX sync. Note: This feature will be removed.
#client_retry_interval		= 10

# X-mopher header configuration
mopher_header			= 1
mopher_header_name		= "X-mopher"
mopher_header_symbols           =
(
	"id",
	"acl_response",
	"acl_rule",
	"acl_line",
	"counter_relay",
	"counter_penpal",
	"greylist_delayed",
	"tarpit_delayed",
	"dnsbl_str",
	"spf",
	"spamd_score",
	"spamd_spam"
)

# Inform libmilter while tarpitting
tarpit_progress_interval	= 1

# Counter module
counter_expire_low		= 604800
counter_expire_high		= 5184000
counter_threshold		= 3

# Spamassassin module
spamd_socket			= "inet:783@127.0.0.1"

# ClamAV module
clamav_socket			= "unix:/var/run/clamav/clamd.ctl"

# P0f module
p0f_socket			= "unix:/var/run/p0f/p0f.sock"

# GeoIP module
geoip_database			= "/var/local/lib/geoip/GeoIP.dat"

# Dblog module (EXPERIMENTAL)
dblog				= 0
dblog_expire			= 7776000

# Database cleanup interval
cleanup_interval		= 600

# Database configuration
table[state]			=
{
	driver			= "memdb"
}
table[greylist]			=
{
	driver			= "memdb"
}
table[counter_relay]		=
{
	driver			= "memdb"
}
table[counter_penpal]		=
{
	driver			= "memdb"
}
table[dblog]			=
{
	driver			= "memdb"
}

# Table configuration for database tests
table[test_memdb]		=
{
	driver			= "memdb"
}
table[test_bdb]			=
{
	driver			= "bdb",
	path			= "/tmp/mopher_test.bdb"
}
table[test_lite]			=
{
	driver			= "sqlite3",
	path			= "/tmp/mopher_test.sqlite3"
}
table[test_mysql]		=
{
	driver			= "mysql",
	database		= "mopher_test",
	user			= "mopher_test",
	pass			= "mopher_test"
}
table[test_pgsql]		=
{
	driver			= "postgresql",
	host			= "127.0.0.1",
	database		= "mopher_test",
	user			= "mopher_test",
	pass			= "mopher_test"
}
